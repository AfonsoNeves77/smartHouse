@startuml
title <size: 30> US09 Class Diagram
note "<b>Only methods related to\n<b>US09 are represented" as N1
skinparam linetype ortho

class GetDevicesByFunctionalityCTRL {
    - house : House

    + getDevicesByFunctionality() : HashMap<String, ArrayList<DeviceDTO>>
}

class House {
    - houseName: String
    - gps : GPS
    - address : Address
    - listOfRooms : ListOfRooms
    - sensorTypeList : sensorTypeList
    - houseFunctionalities : Map<String, ArrayList<Device>>

    + getHouseFunctionalities() : Map<String,ArrayList<Device>>
    - updateHouseFunctionalities() : void
}

class ListOfRooms {
    - roomList : ArrayList<Room>
}

class Room {
    - roomName: String
    - houseFloor : int
    - dimensions : RoomDimensions
    - deviceList : ListOfDevices
    - roomFunctionalities : Map<String,ArrayList<Device>>

    + getRoomFunctionalities() : Map<String, ArrayList<Device>>
    - updateRoomFunctionalities() : void


}

class ListOfDevices {
    - deviceList : ArrayList<Device>
}

class DeviceDTO {
    - deviceName : String
    - deviceModel : String
    - location : String
    - status : boolean
}

class Device {
    - deviceName : String
    - deviceModel : String
    - deviceLocation : String
    - status : boolean
    - listOfSensors : ListOfSensors
    - listOfActuators : ListOfActuators
    - deviceFunctionalities : List<String>

    - updateDeviceFunctionalities(sensorType : String) : void
}

class DeviceDTOMapper {
    + domainToDTO(device : Device) : DeviceDTO
    + domainToDTO(deviceList : ArrayList<Device>) : ArrayList<DeviceDTO>
    + domainMapToDTO(map : Map<String,ArrayList<Device>>) : Map<String,ArrayList<DeviceDTO>>
}

GetDevicesByFunctionalityCTRL -up.> House
House "1" *- "1" ListOfRooms
ListOfRooms "1" o-- "*" Room
Room "1" *-- "1" ListOfDevices
ListOfDevices "1" o-right- "*" Device

GetDevicesByFunctionalityCTRL -down.> DeviceDTOMapper

DeviceDTOMapper ..> DeviceDTO
DeviceDTOMapper ..> Device



@enduml

