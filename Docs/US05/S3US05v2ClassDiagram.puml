@startuml

title <size: 30> US05v2 Class Diagram

note "<b>Only methods related to\n<b>US05v2 are represented" as N1

skinparam linetype ortho

class AddDeviceToRoomCTRL{
    - myHouse : House
    - factoryDevice : FactoryDevice
    - commonListOfRooms : CommonListOfRooms
    + getListOfRooms() : List<RoomDTO>
    + addDeviceToRoom(deviceName : String, deviceModel : String, roomName : String) : boolean
}

class CommonListOfRooms{
    - house : House
    - roomDTOAndRoomMap : LinkedHashMap<RoomDTO, Room>
    + getListOfRooms() : List<RoomDTO>
    - refreshMap()
    - truncateList(roomDTOAndRoomMap : Map<RoomDTO, Room>) : List<RoomDTO>
    + getRoomByName(roomName : String) : Room
}


class RoomDTO{
    - roomName : String
    - houseFloor : int
    - roomWidth : double
    - roomLength : double
    - roomHeight : double
    + getRoomName() : String
}

class RoomDTOMapper{
    + getRoomDTOList(listOfRooms : List<Room>) : LinkedHashMap<RoomDTO, Room>
    + domainToDTO(room : Room) : RoomDTO
}

class House {
    - houseName : String
    - gps : GPS
    - address : Address
    - listOfRooms : ListOfRooms
    - houseFunctionalities : Map<String, ArrayList<Device>>
    + getListOfRooms() : List<Room>
}

class ListOfRooms{
    - roomList : ArrayList<Room>
    + getRoomList() : List<Room>
}

class Room {
    - roomName : String
    - houseFloor : int
    - dimensions : RoomDimensions
    - deviceList : ListOfDevices
    - roomFunctionalities : Map<String, ArrayList<Device>>
    + addDevice(deviceName : String, deviceModel : String, factoryDevice : FactoryDevice) : boolean
}

class ListOfDevices{
    - deviceList : ArrayList<Device>
    + addDeviceToList(deviceName : String, deviceModel : String, location : String, factoryDevice : FactoryDevice) : boolean
    - isDeviceDuplicated(deviceName : String) : boolean
}

interface FactoryDevice {
    + createDevice(deviceName : String, deviceModel : String, \nlocation : String) : Device
}

class ImplFactoryDevice {
    + createDevice(deviceName : String, deviceModel : String, location : String) : Device
}

class Device {
    - deviceName : String
    - deviceModel : String
    - deviceLocation : String
    - status : boolean
    - listOfSensors : ListOfSensors
    - listOfActuators : ListOfActuators
    - deviceFunctionalities : List<String>
    - areDeviceParametersValid(deviceName : String, deviceModel : String, deviceLocation : String) : boolean
}

AddDeviceToRoomCTRL -down.> CommonListOfRooms
CommonListOfRooms ..> RoomDTOMapper
RoomDTOMapper ..> RoomDTO
CommonListOfRooms ..> House
House "1" *-- "1" ListOfRooms
ListOfRooms "1" o-- "*" Room
Room "*" *-- "1" ListOfDevices
ListOfDevices "1" o-- "*" Device
ListOfDevices ..> FactoryDevice : <uses>
FactoryDevice <|.. ImplFactoryDevice
ImplFactoryDevice ..> Device : <create>

@enduml