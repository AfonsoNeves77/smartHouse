@startuml

skinparam ParticipantPadding 50
autonumber
title User Story 3 - Main Success Scenario

participant ":GetListOfRoomsCTRL" as C
participant ":RoomService" as RS
participant ":RoomRepository" as RR
participant ":RoomDTOMapper" as RM

[o-> C : getListOfRooms()
activate C
C -> RS : getListOfRooms()
activate RS
RS -> RR : findAllRooms()
activate RR

RR -> RR : clonedListOfRooms

RR --> RS : clonedListOfRooms

RS -> RM : domainToDTO(clonedListOfRooms)

activate RM
loop for each room in room list
RM -> RM : RoomDTO = domainToDTO(room)
activate RM
deactivate RM
RM -> RM : put(RoomDTO, room)
activate RM
deactivate RM
end loop
RM --> RR : roomDTOList
deactivate RM
RR --> RS : roomDTOList
deactivate RR

RS --> C : roomDTOList

deactivate RS

[o<-- C : roomDTOList




@enduml