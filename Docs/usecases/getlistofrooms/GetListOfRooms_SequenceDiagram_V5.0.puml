@startuml

skinparam ParticipantPadding 50
autonumber
title Use Case: Get list of rooms v5.0

participant ":GetListOfRoomsCTRL" as C
participant ":RoomServiceImpl" as RS
participant ":RoomRepositoryMem" as RR
participant ":RoomDTOMapper" as RM

[o-> C : getListOfRooms()
activate C
C -> RS : findAll()
activate RS

RS -> RR : findAll()
activate RR


RR --> RS : iterableListOfRooms

deactivate RR


RS -> RS : clone(iterableListOfRooms)
activate RS
deactivate RS
RS --> C : roomList

deactivate RS

C -> RM : domainToDTO(roomList)

activate RM
loop for each room in room list
RM -> RM : RoomDTO = convertRoomToDTO(room)
activate RM
deactivate RM
RM -> RM : roomDTOList.add(RoomDTO)
activate RM
deactivate RM
end loop
RM --> C : roomDTOList
deactivate RM




[o<-- C : roomDTOList

deactivate C




@enduml